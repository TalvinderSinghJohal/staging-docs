---
title: Tool/Function Calling
icon: "square-scissors"
---

Enable AI models to call external tools and functions through the AI Gateway, expanding their capabilities and automating complex workflows with enterprise-grade security and monitoring.

---

## Overview

Tool calling allows AI models to interact with external systems, APIs, and databases by invoking predefined functions. The AI Gateway provides a unified interface for tool calling across all supported providers, ensuring consistent behavior and enhanced security controls.

## Key Features

- **Cross-Provider Support**: Works with OpenAI, Anthropic, and other supported providers
- **Enterprise Security**: Built-in validation and monitoring of tool calls
- **Flexible Integration**: Support for custom functions and external APIs
- **Audit Trail**: Complete logging and tracking of all tool interactions
- **Guardrail Enforcement**: Apply guardrails and compliance rules to tool usage

---

## Implementation

### Complete Example

```python title="tool_calling_example.py"
from openai import OpenAI

client = OpenAI(
    api_key="your-openai-api-key",
    base_url="https://your-gateway-url/v1",
    default_headers={
        "x-provider-name": "openai",
        "x-altrumai-key": "your-gateway-api-key"
    }
)

response = client.chat.completions.create(
    model="gpt-4",
    messages=[
        {"role": "user", "content": "What's the weather like in New York tomorrow?"}
    ],
    tools=[
        {
            "type": "function",
            "function": {
                "name": "get_weather",
                "description": "Get the weather forecast for a city",
                "parameters": {
                    "type": "object",
                    "properties": {
                        "location": {
                            "type": "string",
                            "description": "Name of the city"
                        },
                        "date": {
                            "type": "string",
                            "description": "Date to get the forecast for"
                        }
                    },
                    "required": ["location", "date"]
                }
            }
        }
    ],
    tool_choice="auto"
)

print(response.choices[0].message)
```

### Response

When the model decides to use a tool, the response will include tool call information:

```json
{
  "role": "assistant",
  "content": null,
  "tool_calls": [
    {
      "id": "call_abc123",
      "type": "function",
      "function": {
        "name": "get_weather",
        "arguments": "{ \"location\": \"New York\", \"date\": \"2025-07-25\" }"
      }
    }
  ]
}
```